<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Factorizations &amp; Preconditioners · ExtendableSparse.jl</title><meta name="title" content="Factorizations &amp; Preconditioners · ExtendableSparse.jl"/><meta property="og:title" content="Factorizations &amp; Preconditioners · ExtendableSparse.jl"/><meta property="twitter:title" content="Factorizations &amp; Preconditioners · ExtendableSparse.jl"/><meta name="description" content="Documentation for ExtendableSparse.jl."/><meta property="og:description" content="Documentation for ExtendableSparse.jl."/><meta property="twitter:description" content="Documentation for ExtendableSparse.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ExtendableSparse.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../example/">Examples &amp; Benchmarks</a></li><li><a class="tocitem" href="../extsparse/">Sparse matrix handling</a></li><li><a class="tocitem" href="../linearsolve/">Linear System solution</a></li><li><a class="tocitem" href="../internal/">Internal API</a></li><li class="is-active"><a class="tocitem" href>Factorizations &amp; Preconditioners</a><ul class="internal"><li><a class="tocitem" href="#Factorizations"><span>Factorizations</span></a></li><li><a class="tocitem" href="#LU-Factorizations"><span>LU Factorizations</span></a></li><li><a class="tocitem" href="#Preconditioners"><span>Preconditioners</span></a></li><li><a class="tocitem" href="#Experimental/deprecated"><span>Experimental/deprecated</span></a></li><li><a class="tocitem" href="#Iteration-schemes"><span>Iteration schemes</span></a></li></ul></li><li><a class="tocitem" href="../changes/">Changes</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Factorizations &amp; Preconditioners</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Factorizations &amp; Preconditioners</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Factorizations-and-Preconditioners"><a class="docs-heading-anchor" href="#Factorizations-and-Preconditioners">Factorizations &amp; Preconditioners</a><a id="Factorizations-and-Preconditioners-1"></a><a class="docs-heading-anchor-permalink" href="#Factorizations-and-Preconditioners" title="Permalink"></a></h1><p>This functionality is deprecated as of version 1.6 an will be removed with  version 2.0. Use the  <a href="/linearsolve/#Integration-with-LinearSolve.jl">integration with LinearSolve.jl</a>.</p><h2 id="Factorizations"><a class="docs-heading-anchor" href="#Factorizations">Factorizations</a><a id="Factorizations-1"></a><a class="docs-heading-anchor-permalink" href="#Factorizations" title="Permalink"></a></h2><p>In this package, preconditioners and LU factorizations are both seen as complete or approximate <em>factorizations</em>. Correspondingly we provide a common  API for them.</p><p>ExtendableSparse.AbstractLUFactorization</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.factorize!-Tuple{AbstractFactorization, ExtendableSparseMatrixCSC}" href="#ExtendableSparse.factorize!-Tuple{AbstractFactorization, ExtendableSparseMatrixCSC}"><code>ExtendableSparse.factorize!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">factorize!(factorization, matrix)</code></pre><p>Update or create factorization, possibly reusing information from the current state. This method is aware of pattern changes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.issolver-Tuple{ExtendableSparse.AbstractLUFactorization}" href="#ExtendableSparse.issolver-Tuple{ExtendableSparse.AbstractLUFactorization}"><code>ExtendableSparse.issolver</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">issolver(factorization)</code></pre><p>Determine if factorization is a solver or not</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.update!-Tuple{AbstractFactorization}" href="#ExtendableSparse.update!-Tuple{AbstractFactorization}"><code>ExtendableSparse.update!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">update!(factorization)</code></pre><p>Update factorization after matrix update.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.AbstractFactorization" href="#ExtendableSparse.AbstractFactorization"><code>ExtendableSparse.AbstractFactorization</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractFactorization</code></pre><p>Abstract type for a factorization   with ExtandableSparseMatrix. </p><p>This type is meant to be a &quot;type flexible&quot; (with respect to the matrix element type) and lazily construcdet (can be constructed without knowing the matrix, and updated later) LU factorization or preconditioner. It wraps different concrete, type fixed factorizations which shall provide the usual <code>ldiv!</code> methods.</p><p>Any such preconditioner/factorization <code>MyFact</code> should have the following fields</p><pre><code class="nohighlight hljs">  A::ExtendableSparseMatrix
  factorization
  phash::UInt64</code></pre><p>and  provide methods</p><pre><code class="nohighlight hljs">  MyFact(;kwargs...) 
  update!(precon::MyFact)</code></pre><p>The idea is that, depending if the matrix pattern has changed,  different steps are needed to update the preconditioner.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><h2 id="LU-Factorizations"><a class="docs-heading-anchor" href="#LU-Factorizations">LU Factorizations</a><a id="LU-Factorizations-1"></a><a class="docs-heading-anchor-permalink" href="#LU-Factorizations" title="Permalink"></a></h2><p>Handling of the LU factorizations is meant to support a workflow where sequences of problems are solved based on the same matrix, where one possibly wants to re-use existing symbolic factorization data.</p><p>The support comes in two flavors.</p><ul><li>Using <a href="#ExtendableSparse.factorize!-Tuple{AbstractFactorization, ExtendableSparseMatrixCSC}"><code>factorize!</code></a> which can work as a drop-in replacement for <code>lu!</code>:</li></ul><pre><code class="language-julia hljs">using ExtendableSparse, LinearAlgebra
A = fdrand(20, 20, 1; matrixtype = ExtendableSparseMatrix)
n = size(A, 1)
b = rand(n)
factorization = SparspakLU()
factorize!(factorization, A)
nm1 = norm(factorization \ b)

# mock update from Newton etc.
for i = 4:(n - 3)
    A[i, i + 3] -= 1.0e-4
end
factorize!(factorization, A)
nm2 = norm(factorization \ b)
nm1, nm2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(1756.3945024696934, 1787.914698035395)</code></pre><ul><li>Using <a href="#ExtendableSparse.update!-Tuple{AbstractFactorization}"><code>update!</code></a>, where the matrix only needs to be given at construction time:</li></ul><pre><code class="language-julia hljs">using ExtendableSparse, LinearAlgebra
A = fdrand(20, 20, 1; matrixtype = ExtendableSparseMatrix)
n = size(A, 1)
b = rand(n)
factorization = CholeskyFactorization(A)
nm1 = norm(factorization \ b)

# mock update from Newton etc.
for i = 4:(n - 3)
    A[i, i + 3] -= 1.0e-4
    A[i - 3, i] -= 1.0e-4
end
update!(factorization)
nm2 = norm(factorization \ b)
nm1, nm2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(1861.6287026217487, 2014.814363200987)</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.LUFactorization" href="#ExtendableSparse.LUFactorization"><code>ExtendableSparse.LUFactorization</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LUFactorization()
LUFactorization(matrix)</code></pre><p>Default LU Factorization. Maps to Sparspak.jl for non-GPL builds, otherwise to UMFPACK.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.SparspakLU" href="#ExtendableSparse.SparspakLU"><code>ExtendableSparse.SparspakLU</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SparspakLU() 
SparspakLU(matrix) </code></pre><p>LU factorization based on <a href="https://github.com/PetrKryslUCSD/Sparspak.jl">Sparspak.jl</a> (P.Krysl&#39;s Julia re-implementation of Sparspak by George &amp; Liu)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.AbstractLUFactorization" href="#ExtendableSparse.AbstractLUFactorization"><code>ExtendableSparse.AbstractLUFactorization</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractLUFactorization &lt;: AbstractFactorization</code></pre><p>Abstract subtype for (full) LU factorizations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.CholeskyFactorization" href="#ExtendableSparse.CholeskyFactorization"><code>ExtendableSparse.CholeskyFactorization</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>CholeskyFactorization(;valuetype=Float64, indextype=Int64) CholeskyFactorization(matrix)</p><p>Default Cholesky factorization via cholmod.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.:\\" href="#Base.:\\"><code>Base.:\</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">A</code></pre><p><a href="#Base.:\\"><code>\</code></a> for ExtendableSparse. It calls the LU factorization form Sparspak.jl, unless GPL components are allowed  in the Julia sysimage and the floating point type of the matrix is Float64 or Complex64. In that case, Julias standard `` is called, which is realized via UMFPACK.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section><section><div><pre><code class="language-julia hljs">\(symm_ext, b)
</code></pre><p><a href="#Base.:\\"><code>\</code></a> for Symmetric{ExtendableSparse}</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section><section><div><pre><code class="language-julia hljs">\(symm_ext, b)
</code></pre><p><a href="#Base.:\\"><code>\</code></a> for Hermitian{ExtendableSparse}</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section><section><div><pre><code class="language-julia hljs"> lufacths</code></pre><p>Solve  LU factorization problem.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><h2 id="Preconditioners"><a class="docs-heading-anchor" href="#Preconditioners">Preconditioners</a><a id="Preconditioners-1"></a><a class="docs-heading-anchor-permalink" href="#Preconditioners" title="Permalink"></a></h2><p>The API is similar to that for LU factorizations.</p><p>The support comes in two flavors.</p><ul><li>Using <a href="#ExtendableSparse.factorize!-Tuple{AbstractFactorization, ExtendableSparseMatrixCSC}"><code>factorize!</code></a>:</li></ul><pre><code class="language-julia hljs">using ExtendableSparse, LinearAlgebra
using IterativeSolvers, IncompleteLU
A = fdrand(20, 20, 1; matrixtype = ExtendableSparseMatrix)
n = size(A, 1)
b = rand(n)
preconditioner = ILUTPreconditioner(; droptol = 1.0e-2)
factorize!(preconditioner, A)

# mock update from Newton etc.
nm1 = norm(bicgstabl(A, b, 1; Pl = preconditioner))
for i = 4:(n - 3)
    A[i, i + 3] -= 1.0e-4
end
factorize!(preconditioner, A)
nm2 = norm(bicgstabl(A, b, 1; Pl = preconditioner))
nm1, nm2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(2078.300114201137, 2121.967325366816)</code></pre><ul><li>Using <a href="#ExtendableSparse.update!-Tuple{AbstractFactorization}"><code>update!</code></a>:</li></ul><pre><code class="language-julia hljs">using ExtendableSparse, LinearAlgebra
using IterativeSolvers
A = fdrand(20, 20, 1; matrixtype = ExtendableSparseMatrix)
n = size(A, 1)
b = rand(n)
preconditioner = ILU0Preconditioner(A)
nm1 = norm(cg(A, b; Pl = preconditioner))

# mock update from Newton etc.
for i = 4:(n - 3)
    A[i, i + 3] -= 1.0e-4
    A[i - 3, i] -= 1.0e-4
end
update!(preconditioner)
nm2 = norm(cg(A, b; Pl = preconditioner))
nm1, nm2</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">(1762.1793325873766, 1828.3089477922722)</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.AbstractPreconditioner" href="#ExtendableSparse.AbstractPreconditioner"><code>ExtendableSparse.AbstractPreconditioner</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractPreconditioner &lt;: AbstractFactorization</code></pre><p>Abstract subtype for preconditioners</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.ILUZeroPreconditioner" href="#ExtendableSparse.ILUZeroPreconditioner"><code>ExtendableSparse.ILUZeroPreconditioner</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ILUZeroPreconditioner()
ILUZeroPreconditioner(matrix)</code></pre><p>Incomplete LU preconditioner with zero fill-in using  <a href="https://github.com/mcovalt/ILUZero.jl">ILUZero.jl</a>. This preconditioner also calculates and stores updates to the off-diagonal entries and thus delivers better convergence than  the <a href="#ExtendableSparse.ILU0Preconditioner"><code>ILU0Preconditioner</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.PointBlockILUZeroPreconditioner" href="#ExtendableSparse.PointBlockILUZeroPreconditioner"><code>ExtendableSparse.PointBlockILUZeroPreconditioner</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PointBlockILUZeroPreconditioner(;blocksize)
PointBlockILUZeroPreconditioner(matrix;blocksize)</code></pre><p>Incomplete LU preconditioner with zero fill-in using  <a href="https://github.com/mcovalt/ILUZero.jl">ILUZero.jl</a>. This preconditioner also calculates and stores updates to the off-diagonal entries and thus delivers better convergence than  the <a href="#ExtendableSparse.ILU0Preconditioner"><code>ILU0Preconditioner</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.BlockPreconBuilder" href="#ExtendableSparse.BlockPreconBuilder"><code>ExtendableSparse.BlockPreconBuilder</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> BlockPreconBuilder(;precs=UMFPACKPreconBuilder(),  
                     partitioning = A -&gt; [1:size(A,1)]</code></pre><p>Return callable object constructing a left block Jacobi preconditioner  from partition of unknowns.</p><ul><li><p><code>partitioning(A)</code>  shall return a vector of AbstractVectors describing the indices of the partitions of the matrix.  For a matrix of size <code>n x n</code>, e.g. partitioning could be <code>[ 1:n÷2, (n÷2+1):n]</code> or [ 1:2:n, 2:2:n].</p></li><li><p><code>precs(A,p)</code> shall return a left precondioner for a matrix block.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.BlockPreconditioner" href="#ExtendableSparse.BlockPreconditioner"><code>ExtendableSparse.BlockPreconditioner</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs"> BlockPreconditioner(;partitioning, factorization=LUFactorization)</code></pre><p>Create a block preconditioner from partition of unknowns given by <code>partitioning</code>, a vector of AbstractVectors describing the indices of the partitions of the matrix. For a matrix of size <code>n x n</code>, e.g. partitioning could be <code>[ 1:n÷2, (n÷2+1):n]</code> or [ 1:2:n, 2:2:n]. Factorization is a callable (Function or struct) which allows to create a factorization (with <code>ldiv!</code> methods) from a submatrix of A.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.allow_views-Tuple{Any}" href="#ExtendableSparse.allow_views-Tuple{Any}"><code>ExtendableSparse.allow_views</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">allow_views(::preconditioner_type)</code></pre><p>Factorizations on matrix partitions within a block preconditioner may or may not work with array views. E.g. the umfpack factorization cannot work with views, while ILUZeroPreconditioner can.  Implementing a method for <code>allow_views</code> returning <code>false</code> resp. <code>true</code> allows to dispatch to the proper case.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.AMGCL_AMGPreconditioner" href="#ExtendableSparse.AMGCL_AMGPreconditioner"><code>ExtendableSparse.AMGCL_AMGPreconditioner</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AMGCL_AMGPreconditioner(;kwargs...)
AMGCL_AMGPreconditioner(matrix;kwargs...)</code></pre><p>Create the  <a href="#ExtendableSparse.AMGCL_AMGPreconditioner"><code>AMGCL_AMGPreconditioner</code></a> wrapping AMG preconditioner from <a href="https://github.com/j-fu/AMGCLWrap.jl">AMGCLWrap.jl</a> For <code>kwargs</code> see there.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.AMGCL_RLXPreconditioner" href="#ExtendableSparse.AMGCL_RLXPreconditioner"><code>ExtendableSparse.AMGCL_RLXPreconditioner</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AMGCL_RLXPreconditioner(;kwargs...)
AMGCL_RLXPreconditioner(matrix;kwargs...)</code></pre><p>Create the  <a href="#ExtendableSparse.AMGCL_RLXPreconditioner"><code>AMGCL_RLXPreconditioner</code></a> wrapping RLX preconditioner from <a href="https://github.com/j-fu/AMGCLWrap.jl">AMGCLWrap.jl</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.SA_AMGPreconditioner" href="#ExtendableSparse.SA_AMGPreconditioner"><code>ExtendableSparse.SA_AMGPreconditioner</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">SA_AMGPreconditioner(;kwargs...)
SA_AMGPreconditioner(matrix;kwargs...)</code></pre><p>Create the  <a href="#ExtendableSparse.SA_AMGPreconditioner"><code>SA_AMGPreconditioner</code></a> wrapping the smoothed aggregation AMG preconditioner from <a href="https://github.com/JuliaLinearAlgebra/AlgebraicMultigrid.jl">AlgebraicMultigrid.jl</a> For <code>kwargs</code> see there.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.RS_AMGPreconditioner" href="#ExtendableSparse.RS_AMGPreconditioner"><code>ExtendableSparse.RS_AMGPreconditioner</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">RS_AMGPreconditioner(;kwargs...)
RS_AMGPreconditioner(matrix;kwargs...)</code></pre><p>Create the  <a href="#ExtendableSparse.RS_AMGPreconditioner"><code>RS_AMGPreconditioner</code></a> wrapping the Ruge-Stüben AMG preconditioner from <a href="https://github.com/JuliaLinearAlgebra/AlgebraicMultigrid.jl">AlgebraicMultigrid.jl</a> For <code>kwargs</code> see there.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.ILUTPreconditioner" href="#ExtendableSparse.ILUTPreconditioner"><code>ExtendableSparse.ILUTPreconditioner</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ILUTPreconditioner(;droptol=1.0e-3)
ILUTPreconditioner(matrix; droptol=1.0e-3)</code></pre><p>Create the <a href="#ExtendableSparse.ILUTPreconditioner"><code>ILUTPreconditioner</code></a> wrapping the one  from <a href="https://github.com/haampie/IncompleteLU.jl">IncompleteLU.jl</a> For using this, you need to issue <code>using IncompleteLU</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><h2 id="Experimental/deprecated"><a class="docs-heading-anchor" href="#Experimental/deprecated">Experimental/deprecated</a><a id="Experimental/deprecated-1"></a><a class="docs-heading-anchor-permalink" href="#Experimental/deprecated" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.PardisoLU" href="#ExtendableSparse.PardisoLU"><code>ExtendableSparse.PardisoLU</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">PardisoLU(;iparm::Vector, 
           dparm::Vector, 
           mtype::Int)

PardisoLU(matrix; iparm,dparm,mtype)</code></pre><p>LU factorization based on pardiso. For using this, you need to issue <code>using Pardiso</code> and have the pardiso library from  <a href="https://pardiso-project.org">pardiso-project.org</a>  <a href="https://github.com/JuliaSparse/Pardiso.jl#pardiso-60">installed</a>.</p><p>The optional keyword arguments <code>mtype</code>, <code>iparm</code>  and <code>dparm</code> are  <a href="https://github.com/JuliaSparse/Pardiso.jl#readme">Pardiso internal parameters</a>.</p><p>Forsetting them, one can also access the <code>PardisoSolver</code> e.g. like</p><pre><code class="nohighlight hljs">using Pardiso
plu=PardisoLU()
Pardiso.set_iparm!(plu.ps,5,13.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.MKLPardisoLU" href="#ExtendableSparse.MKLPardisoLU"><code>ExtendableSparse.MKLPardisoLU</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MKLPardisoLU(;iparm::Vector, mtype::Int)

MKLPardisoLU(matrix; iparm, mtype)</code></pre><p>LU factorization based on pardiso. For using this, you need to issue <code>using Pardiso</code>. This version  uses the early 2000&#39;s fork in Intel&#39;s MKL library.</p><p>The optional keyword arguments <code>mtype</code> and <code>iparm</code>  are   <a href="https://github.com/JuliaSparse/Pardiso.jl#readme">Pardiso internal parameters</a>.</p><p>For setting them you can also access the <code>PardisoSolver</code> e.g. like</p><pre><code class="nohighlight hljs">using Pardiso
plu=MKLPardisoLU()
Pardiso.set_iparm!(plu.ps,5,13.0)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.AMGPreconditioner" href="#ExtendableSparse.AMGPreconditioner"><code>ExtendableSparse.AMGPreconditioner</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">AMGPreconditioner(;max_levels=10, max_coarse=10)
AMGPreconditioner(matrix;max_levels=10, max_coarse=10)</code></pre><p>Create the  <a href="#ExtendableSparse.AMGPreconditioner"><code>AMGPreconditioner</code></a> wrapping the Ruge-Stüben AMG preconditioner from <a href="https://github.com/JuliaLinearAlgebra/AlgebraicMultigrid.jl">AlgebraicMultigrid.jl</a></p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Deprecated in favor of <a href="#ExtendableSparse.RS_AMGPreconditioner"><code>RS_AMGPreconditioner</code></a></p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.JacobiPreconditioner" href="#ExtendableSparse.JacobiPreconditioner"><code>ExtendableSparse.JacobiPreconditioner</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">JacobiPreconditioner()
JacobiPreconditioner(matrix)</code></pre><p>Jacobi preconditioner.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.ParallelJacobiPreconditioner" href="#ExtendableSparse.ParallelJacobiPreconditioner"><code>ExtendableSparse.ParallelJacobiPreconditioner</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ParallelJacobiPreconditioner()
ParallelJacobiPreconditioner(matrix)</code></pre><p>ParallelJacobi preconditioner.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.ILU0Preconditioner" href="#ExtendableSparse.ILU0Preconditioner"><code>ExtendableSparse.ILU0Preconditioner</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ILU0Preconditioner()
ILU0Preconditioner(matrix)</code></pre><p>Incomplete LU preconditioner with zero fill-in, without modification of off-diagonal entries, so it delivers slower convergende than  <a href="#ExtendableSparse.ILUZeroPreconditioner"><code>ILUZeroPreconditioner</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.ParallelILU0Preconditioner" href="#ExtendableSparse.ParallelILU0Preconditioner"><code>ExtendableSparse.ParallelILU0Preconditioner</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ParallelILU0Preconditioner()
ParallelILU0Preconditioner(matrix)</code></pre><p>Parallel ILU preconditioner with zero fill-in.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article><h2 id="Iteration-schemes"><a class="docs-heading-anchor" href="#Iteration-schemes">Iteration schemes</a><a id="Iteration-schemes-1"></a><a class="docs-heading-anchor-permalink" href="#Iteration-schemes" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ExtendableSparse.simple!" href="#ExtendableSparse.simple!"><code>ExtendableSparse.simple!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simple!(u,A,b;
                 abstol::Real = zero(real(eltype(b))),
                 reltol::Real = sqrt(eps(real(eltype(b)))),
                 log=false,
                 maxiter=100,
                 P=nothing
                 ) -&gt; solution, [history]</code></pre><p>Simple iteration scheme <span>$u_{i+1}= u_i - P^{-1} (A u_i -b)$</span> with similar API as the methods in IterativeSolvers.jl.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/WIAS-PDELib/ExtendableSparse.jl">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../internal/">« Internal API</a><a class="docs-footer-nextpage" href="../changes/">Changes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Sunday 10 November 2024 20:57">Sunday 10 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
